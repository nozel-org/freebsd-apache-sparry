# apache configuration file generated by sparry
<VirtualHost *:80>
    ServerName <domain_name>
    ServerAlias www.<domain_name>

    # Logging
    ErrorLog "/var/log/httpd-<domain_name>-error.log"
    CustomLog "/var/log/httpd-<domain_name>-access.log" common

    # HTTP Security Headers
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection: "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Permitted-Cross-Domain-Policies: none
    Header always set Referrer-Policy same-origin
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName <domain_name>
    ServerAlias www.<domain_name>
    DocumentRoot /usr/local/www/<domain_name>

    # Apache directory control access
    <Directory "/usr/local/www/<domain_name>">
        Require all granted
    </Directory>

    # Logging
    ErrorLog "/var/log/httpd-<domain_name>-error.log"
    CustomLog "/var/log/httpd-<domain_name>-access.log" common

    # HTTP Security Headers
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-XSS-Protection: "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Permitted-Cross-Domain-Policies: none
    Header always set Referrer-Policy same-origin

    # Let's Encrypt configuration
    SSLCertificateFile /usr/local/etc/letsencrypt/live/<domain_name>/fullchain.pem
    SSLCertificateKeyFile /usr/local/etc/letsencrypt/live/<domain_name>/privkey.pem
    Include /usr/local/etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
