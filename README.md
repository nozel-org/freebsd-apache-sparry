# FreeBSD Apache Sparry
Sparry is a acronym for "SPawn Apache viRtualhosts eveRYwhere". Sparry is a very easy-to-use management tool for apache VirtualHost configurations on FreeBSD. With Sparry everyone can easily create apache VirtualHost configurations that are simple and straight forward, but also secure.

Don't use Sparry yet: it's still under development!

## Features
* Easy-to-use
* Automated TLS certificates
* Automated HTTP Security Headers (different profiles available)
* Automated Error logging

## Example VirtualHost
The example below uses the 'strict' HTTP Security Headers profile.
```
# apache configuration file generated by webot
<VirtualHost *:80>
    ServerName nozel.org
    ServerAlias www.nozel.org
    DocumentRoot /usr/local/www/nozel.org

    # Logging
    ErrorLog "/var/log/httpd-nozel.org-error.log"
    CustomLog "/var/log/httpd-nozel.org-access.log" common

    # HTTP Security Headers
    Header always set HTTP Security Headers
    Header always set Strict-Transport-Security: max-age=31536000; includeSubDomains;
    Header always set X-Frame-Options "DENY"
    Header always set X-XSS-Protection: "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Permitted-Cross-Domain-Policies: none
    Header always set Referrer-Policy same-origin
    Header always set Content-Security-Policy: default-src https://nozel.org

    # Rewrite requests to HTTPS
    RewriteEngine on
    RewriteCond %{SERVER_NAME} =nozel.org [OR]
    RewriteCond %{SERVER_NAME} =nozel.org
    RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,QSA,R=permanent]
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
    ServerName nozel.org
    ServerAlias www.nozel.org
    DocumentRoot /usr/local/www

    # Logging
    ErrorLog "/var/log/httpd-nozel.org-error.log"
    CustomLog "/var/log/httpd-nozel.org-access.log" common

    # HTTP Security Headers
    Header always set HTTP Security Headers
    Header always set Strict-Transport-Security: max-age=31536000; includeSubDomains;
    Header always set X-Frame-Options "DENY"
    Header always set X-XSS-Protection: "1; mode=block"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Permitted-Cross-Domain-Policies: none
    Header always set Referrer-Policy same-origin
    Header always set Content-Security-Policy: default-src https://nozel.org
</VirtualHost>
</IfModule>
```
